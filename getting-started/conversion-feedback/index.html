<!DOCTYPE html>
<html>

<head>
    <!--

  -->

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Providing Conversion Feedback For 2FA/OTP Messages | Plivo Developers</title>

  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/css/highlight/atom-one-light.css">
  <link rel="stylesheet" href="/static/css/home.css">
  <script src="/static/js/utils.js"></script>

  
  <link rel="stylesheet" href="/static/css/mini-home.css">
  

  <script src="/static/js/angular.min.js"></script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23474761-11"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-23474761-11');
  </script>

  <script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("1587892843");
</script><
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MXJNN5');</script>
  <!-- End Google Tag Manager -->

  <link rel="stylesheet" href="/static/css/two-column.css" />
  <link rel="stylesheet" href="/static/css/syntax.css" < head />

</head><body class="ng-scope" ng-app="plivoDevApp">
    <nav class="navbar navbar-default navbar-fixed-top" ng-controller="plivoDevNavCtrl">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false" ng-click='openMenu()'>
        <span class="sr-only">Toggle navigation</span>
        <span ng-show='toggleMenu' class="glyphicon glyphicon-menu-hamburger"></span>
        <span ng-hide="toggleMenu" class="glyphicon glyphicon-remove"></span>
      </button>
        <div class="center">
          <a class="navbar-brand" href="/">
            <img src="/static/assets/images/plivo-logo.png" />
          </a>
          <a class="navbar-brand" href="/">Docs</a>
        </div>
      </div>

      <div class="hideMenu" ng-class="{showMenu: showMenu, hideMenu: !showMenu}">
        <ul class="nav navbar-nav">
          <li><a href="/use-cases">Use Cases</a></li>
          <li><a href="/phlo-reference">PHLO Reference</a></li>
          <li><a href="https://api-reference.plivo.com" target="_blank">API Reference</a></li>

          <li class="dropdown">
            <a href="/server-side-sdks" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Server-side SDKs <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="/server-side-sdks/python-sdk/">Python SDK</a></li>
              <li><a href="/server-side-sdks/node-sdk/">Node JS SDK</a></li>
              <li><a href="/server-side-sdks/ruby-sdk/">Ruby SDK</a></li>
              <li><a href="/server-side-sdks/java-sdk/">Java SDK</a></li>
              <li><a href="/server-side-sdks/php-sdk/">PHP SDK</a></li>
              <li><a href="/server-side-sdks/net-sdk/">.NET / C# SDK</a></li>
              <li><a href="/server-side-sdks/go-sdk/">Go SDK</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="/server-side-sdks">View All</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a href="/client-side-sdks" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Client-side SDKs <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="/client-side-sdks/android-sdk">Android SDK</a></li>
              <li><a href="/client-side-sdks/ios-sdk">iOS SDK</a></li>
              <li><a href="/client-side-sdks/browser-sdk">Browser SDK</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="/client-side-sdks">View All</a></li>
            </ul>
          </li>
        </ul>

        <ul class="nav navbar-nav navbar-right">
          <li><a href="//manage.plivo.com/dashboard/" target="_blank">Dashboard</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="two-div">
    <div class="full container-fluid">
      <div id="sidebar" class="col-md-2 hidden-sm hidden-xs sidebar">
        <div id="scroller-anchor"></div>
        <div class="nav-container">
          <nav>
            <ul class="nav nav-stacked">
              
              <li>
                <a href="#integration-steps">Integration Steps</a></li>
              
            </ul>
          </nav>
        </div>
        </div>

        <section id='content ' class="col-md-10 content">
          <ol class="breadcrumb">
              
                
                <li><a href="/">Home</a></li>
              
              
                
                <li><a href="/getting-started">Getting Started</a></li>
              
              
                
                <li>Providing Conversion Feedback For 2FA/OTP Messages</li>
              
              
          </ol>
          <div class="container full" data-cms-content-wrapper="/_layouts/two-column.html">
            <h1 id="providing-conversion-feedback-for-2faotp-messages">Providing Conversion Feedback For 2FA/OTP Messages</h1>

<p>The Conversion Feedback API enables you to update Plivo on conversions for your critical 2FA/OTP SMS messages.</p>

<p>This feedback plays an important role in ensuring consistently high delivery rates for your 2FA/OTP SMS messages to countries where carrier networks are generally unstable.
<!-- ![](/static/assets/images/getting-started/convfeedback.png) -->
<img src="/static/assets/images/getting-started/convfeedback.png" style="width:70%; margin-left: 15%;" /></p>

<p>Plivo’s dynamic routing engine ensures that your messages are delivered over the best performing carrier route to the destination mobile network at any given point in time.</p>

<h2 id="integration-steps">Integration Steps</h2>
<h3 id="marking-messages-as-trackable">Marking Messages As Trackable</h3>

<p>Set the <em>trackable</em> request parameter of the Send SMS API request to <em>True</em> for your 2FA/OTP SMS messages.</p>

<p>Setting <em>trackable</em> to True implies that you intend to report conversion feedback for the SMS.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">i</span> <span class="o">--</span><span class="n">user</span> <span class="n">AUTH_ID</span><span class="p">:</span><span class="n">AUTH_TOKEN</span> \
    <span class="o">-</span><span class="n">H</span> <span class="s">"Content-Type: application/json"</span> \
    <span class="o">-</span><span class="n">d</span> <span class="s">'{"src": "1111111111","dst": "2222222222", "text": "Hi, text from Plivo", “trackable”: true}'</span> \
    <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">plivo</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">Account</span><span class="o">/</span><span class="p">{</span><span class="n">auth_id</span><span class="p">}</span><span class="o">/</span><span class="n">Message</span><span class="o">/</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>In your authentication system, map the Plivo <em>message_uuid</em> returned for the SMS to the verification request by your end user.</p>

<h3 id="reporting-successful-conversion-to-plivo">Reporting Successful Conversion To Plivo</h3>

<p>When the end user successfully authenticates themself using the verification code sent to them via Plivo, make a POST request to the following API endpoint to report the Conversion to Plivo.</p>

<p><strong><code class="highlighter-rouge">POST https://api.labs.plivo.com/v01/account/{AUTH_ID}/message/{MESSAGE_UUID}/conversion</code></strong>
<br /><br /></p>

<h4 id="required-headers">Required headers</h4>

<p>The API only accepts input of the type  <code class="highlighter-rouge">application/json</code>. All POST requests must be passed as JSON with the <code class="highlighter-rouge">Content-Type</code> header set to  <code class="highlighter-rouge">application/json</code>.
<br /><br /></p>

<h4 id="request-parameters">Request Parameters</h4>
<ul>
  <li>
    <p><code class="highlighter-rouge">status</code> <sub>mandatory, string</sub></p>

    <p>The status of conversion. This can be one of <code class="highlighter-rouge">CONVERTED</code> , <code class="highlighter-rouge">NOT_CONVERTED</code> or <code class="highlighter-rouge">CONVERTED_WITH_OTHERS</code>. Those trackable messages that for which a conversion API request is not received are considered ‘NOT_CONVERTED’ by default.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">timestamp</code> <sub>mandatory, string</sub></p>

    <p>The timestamp of when the status changed - this usually will be different from the timestamp at which the Message had been sent. This has to be in <a href="https://www.w3.org/TR/NOTE-datetime">RFC 8601</a> format. Example: 2017-08-01T11:32:26Z</p>
  </li>
</ul>

<h4 id="example-request">Example request</h4>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre></td><td class="code"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> \
  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">labs</span><span class="o">.</span><span class="n">plivo</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">v01</span><span class="o">/</span><span class="n">account</span><span class="o">/</span><span class="p">{</span><span class="n">AUTH_ID</span><span class="p">}</span><span class="o">/</span><span class="n">message</span><span class="o">/</span><span class="p">{</span><span class="n">MESSAGE_UUID</span><span class="p">}</span><span class="o">/</span><span class="n">conversion</span> \
  <span class="o">-</span><span class="n">H</span> <span class="s">'authorization: Basic &lt;base64 encoded AUTH_ID:AUTH_TOKEN&gt;'</span> \
  <span class="o">-</span><span class="n">H</span> <span class="s">'content-type: application/json'</span> \
  <span class="o">-</span><span class="n">d</span> <span class="s">'{</span><span class="err">
</span><span class="s">        "timestamp" : "2018-05-16T09:00:43.511Z",</span><span class="err">
</span><span class="s">        "status": "CONVERTED"</span><span class="err">
</span><span class="s">    }</span><span class="err">
</span><span class="s">'</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><br /><br /></p>
<h4 id="example-response">Example response</h4>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="p">{</span>
        <span class="s">"message"</span><span class="p">:</span> <span class="s">"successfully recorded."</span><span class="p">,</span>
        <span class="s">"conversion_uuid"</span><span class="p">:</span> <span class="s">"conv-&lt;message-uuid&gt;"</span><span class="p">,</span>
        <span class="s">"message_uuid"</span><span class="p">:</span> <span class="s">"&lt;message-uuid&gt;"</span>
    <span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>


          </div>
        </section>
      </div>
      <footer id='footer'>
  <div class="one-fifth">
    <h6>GETTING STARTED</h6>
    <ul>
      <li><a href="/use-cases/2-factor-authentication/">2 Factor Authentication</a></li>
      <li><a href="/use-cases/ivrs/">IVRS</a></li>
      <li><a href="/use-cases/voice-otp/">Voice OTP</a></li>
      <li><a href="/use-cases/voice-alerts-broadcasting/">Voice Alerts &amp; Broadcasting</a></li>
      <li><a href="/use-cases/number-masking/">Number Masking</a></li>
      <li><a href="/use-cases/call-tracking/">Call Tracking</a></li>
    </ul>

  <h6>QUICKSTART GUIDES</h6>
  <ul>
    <li><a href="/getting-started/setting-up-dev-environment">Setting up Dev Servers</a></li>
    <li><a href="/getting-started/signature-validation">Signature Validation</a></li>
  </ul>
</div>

  <div class="one-fifth">
    <h6>PHLO REFERENCES</h6>
    <ul>
      <li><a href="/phlo-reference/#phlo-basics">PHLO Basics</a></li>
      <li><a href="/phlo-reference/#creating-phlos">Creating PHLOs</a></li>
      <li><a href="/phlo-reference/#connecting-phlo-components">Connecting PHLO Components</a></li>
      <li><a href="/phlo-reference/#configuring-phlo-components">Configuring PHLO Components</a></li>
      <li><a href="/phlo-reference/#triggering-a-phlo">Triggering a PHLO</a></li>
      <li><a href="/phlo-reference/#components-library">Components Library</a></li>
    </ul>


    <h6>PHLO USE CASES</h6>
    <ul>
      <li><a href="/use-cases/phlo/voice-notification">Voice Notification</li>
      <li><a href="/use-cases/phlo/voice-alerts">Voice Alert</li>
      <li><a href="/use-cases/phlo/sms-alert">SMS Alert</li>
      <li><a href="/use-cases/phlo/sms-survey">SMS Survey</li>
      <li><a href="/use-cases/phlo/call-conference">Pinless Conference</li>
      <li><a href="/use-cases/phlo/conference-with-pin">Conference with PIN</li>
      <li><a href="/use-cases/phlo/ivr">Phone System IVR</li>
      <li><a href="/use-cases/phlo/call-forwarding">Call Forwarding</li>
    </ul>

  </div>

  <div class="one-fifth">
    <h6>Client-side SDKs</h6>
    <ul>
      <li><a href="/client-side-sdks/browser-sdk">Browser SDK</a></li>
      <li><a href="/client-side-sdks/android-sdk">Android SDK</a></li>
      <li><a href="/client-side-sdks/ios-sdk">iOS SDK</a></li>
    </ul>

    <h6>INTEGRATIONS</h6>
    <ul>
      <li><a href="/integrations/zapier">Zapier</a></li>
      <li><a href="/integrations/microsoft-flow">Microsoft Flow</a></li>
      <li><a href="/integrations/integromat">Integromat</a></li>
    </ul>
  </div>

  <div class="one-fifth">
    <h6>Server-side SDKs</h6>
    <ul>
      <li><a href="/server-side-sdks/python-sdk">Python</a></li>
      <li><a href="/server-side-sdks/node-sdk">NodeJS</a></li>
      <li><a href="/server-side-sdks/ruby-sdk">Ruby</a></li>
      <li><a href="/server-side-sdks/java-sdk">Java</a></li>
      <li><a href="/server-side-sdks/php-sdk">PHP</a></li>
      <li><a href="/server-side-sdks/net-sdk">.NET (C#)</a></li>
      <li><a href="/server-side-sdks/go-sdk">Go</a></li>
    </ul>
  </div>

  <div class="one-fifth">
    <h6>API REFERENCE</h6>
    <ul>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/account">Account</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/account-phone-number">Account Phone Number</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/application">Application</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/call">Call</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/conference">Conference</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/endpoint">Endpoint</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/incoming-carrier">Incoming Carrier</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/message">Message</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/phone-number">Phone Number</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/pricing">Pricing</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/recording">Recording</a></li>
      <li><a href="https://api-reference.plivo.com/latest/python/resources/subaccount">Subaccount</a></li>
    </ul>
  </div>
</footer>

    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/main.js"></script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MXJNN5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <script>
  $(document).ready(function() {
    $('body').scrollspy({
      target: '#sidebar',
      offset: 100
    })

    function scrollNav() {
      $('#sidebar .nav a').click(function(e) {
        //Toggle Class
        $(".active").removeClass("active");
        $(this).closest('li').addClass("active");
        var theClass = $(this).attr("class");
        $('.' + theClass).parent('li').addClass('active');
        //Animate
        $('html, body').stop().animate({
          scrollTop: $($(this).attr('href')).offset().top - 70
        }, 10);
        return false;
      });
    }
    scrollNav();
    $(".active a").trigger('click');


    var stickySidebar = function() {
      var b = $(window).scrollTop();
      var d = $("#scroller-anchor").offset().top;
      var f = $("#footer").offset().top;
      var c = $(".nav-container");
      var h = c.height() + 50; // margin

      if (b > 0) {
        var myTop = $(window).scrollTop();
        if (myTop > f - h) myTop = f - h;
        c.css({
          position: "absolute",
          top: myTop,
          bottom: ""
        })
      } else {
        if (b <= d) {
          c.css({
            position: "absolute",
            top: "",
            bottom: ""
          })
        }
      }
    };
    $(window).scroll(stickySidebar);
    stickySidebar()
  });
</script>

  </body>
</html>
